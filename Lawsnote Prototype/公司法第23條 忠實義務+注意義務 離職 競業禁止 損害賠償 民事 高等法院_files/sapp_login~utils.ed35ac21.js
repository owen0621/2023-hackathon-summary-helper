(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1625:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(232)),r=a(n(35)),i=a(n(36)),o=a(n(96)),u=a(n(97)),s=a(n(85)),d=a(n(7)),c=a(n(0)),f=(a(n(6)),a(n(557))),p=a(n(335)),h=a(n(1529));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var l=(0,s.default)(this).constructor;n=Reflect.construct(a,arguments,l)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var g=function(e){(0,o.default)(n,e);var t=m(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"renderIcon",value:function(){var e=this.props.icon;if(this.props.loading){var t=this.props.bsStyle&&"default"!==this.props.bsStyle?this.props.spinColorLight:this.props.spinColorDark;e=c.default.createElement("div",null,c.default.createElement(h.default,(0,l.default)({},this.props.spinConfig,{color:t,loaded:!1})))}return c.default.createElement("div",{className:e?"button-loader__spinner":null},e)}},{key:"render",value:function(){return c.default.createElement(p.default,{onClick:this.props.onClick,disabled:this.props.disabled||this.props.loading,bsStyle:this.props.bsStyle,className:this.props.className,type:this.props.type,style:this.props.style,bsSize:this.props.bsSize,block:this.props.block},this.renderIcon(),this.props.children)}}]),n}(c.default.Component);t.default=g,(0,d.default)(g,"defaultProps",{icon:c.default.createElement(f.default,{glyph:"heart"}),loading:!1,spinConfig:{lines:10,length:4,width:2,radius:3},spinColorDark:"#444",spinColorLight:"#fff",children:c.default.createElement("span",null,"Submit"),style:{}})},1628:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(232)),r=a(n(58)),i=a(n(35)),o=a(n(36)),u=a(n(331)),s=a(n(96)),d=a(n(97)),c=a(n(85)),f=a(n(7)),p=a(n(0)),h=(a(n(6)),a(n(1524))),m=a(n(1521)),g=a(n(1530)),v=["state","classPrefix","label","onChange","children"];function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var l=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,l)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var y=function(e){(0,s.default)(n,e);var t=b(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l)),(0,f.default)((0,u.default)(e),"handleInput",(function(t){e.props.onChange(t,e.props.id,t.currentTarget.value)})),(0,f.default)((0,u.default)(e),"handleBlur",(function(t){e.props.onChange(t,e.props.id,t.currentTarget.value)})),e}return(0,o.default)(n,[{key:"render",value:function(){var e=this.props,t=e.state,n=e.classPrefix,a=e.label,i=(e.onChange,e.children),o=(0,r.default)(e,v),u=n?"".concat(n,"-group"):"form-group",s=n?"".concat(n,"-label"):"form-label",d=n?"".concat(n,"-control"):"form-control",c=t?t.value:"",f=t&&!t.isValid?"error":null,b=t&&!t.isValid?t.reason:" ";return p.default.createElement(h.default,{className:u,validationState:f},p.default.createElement("div",{className:s},a),p.default.createElement(m.default,(0,l.default)({},o,{value:c,className:d,onChange:this.handleInput,onBlur:this.handleBlur})),p.default.createElement(g.default,{className:"validate-result"},b),i)}}]),n}(p.default.Component);t.default=y,(0,f.default)(y,"defaultProps",{label:null,value:"",error:{}})},1644:function(e,t,n){"use strict";var a=n(1),l=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o,u,s,d,c,f,p=a(n(35)),h=a(n(36)),m=a(n(331)),g=a(n(96)),v=a(n(97)),b=a(n(85)),y=a(n(7)),S=a(n(1515)),I=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(0)),E=(a(n(6)),n(152)),_=a(n(1519)),P=a(n(542)),w=a(n(1516)),k=n(1670),x=n(332),O=a(n(20));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,b.default)(e);if(t){var l=(0,b.default)(this).constructor;n=Reflect.construct(a,arguments,l)}else n=a.apply(this,arguments);return(0,v.default)(this,n)}}var N=(0,a(n(59)).default)("SignInModal"),B=w.default.div(r||(r=(0,S.default)(["\n  font-size: 11px;\n  color: #787878;\n"]))),M=function(e){(0,g.default)(n,e);var t=R(n);function n(e){var a;return(0,p.default)(this,n),a=t.call(this,e),(0,y.default)((0,m.default)(a),"renderCloseIcon",(function(e){return e?I.default.createElement("div",{className:"sign-in-modal__close-button"},I.default.createElement("i",{className:"close-icon",onClick:a.onToggleModal})):null})),a.onToggleModal=a.onToggleModal.bind((0,m.default)(a)),a.onToggleMode=a.onToggleMode.bind((0,m.default)(a)),a}return(0,h.default)(n,[{key:"shouldComponentUpdate",value:function(e,t){var a=this;return n.props.find((function(t){return!(0,P.default)(a.props[t],e[t])}))||this.state!==t}},{key:"componentDidUpdate",value:function(e){this.logSignInOutEvent(!0,"facebook",e.oAuthSignIn,this.props.oAuthSignIn),this.logSignInOutEvent(!1,"",e.signOut,this.props.signOut)}},{key:"onToggleModal",value:function(){this.props.fixed||this.props.dispatch((0,x.toggleSignInModal)(!this.props.isVisible))}},{key:"onToggleMode",value:function(e){e.preventDefault(),e.currentTarget.blur(),this.props.dispatch((0,x.toggleSignInMode)(!this.props.isSignInMode))}},{key:"logSignInOutEvent",value:function(e,t,n,a){!1===n.loading&&!0===a.loading?O.default.logSignInOutStart(e,t):!0===n.loading&&!1===a.loading&&(a.error?O.default.logSignInOutStartFail(e,t):O.default.logSignInOutStartSuccess(e,t))}},{key:"render",value:function(){var e,t,n,a,l,r,p,h;return N("render()"),this.props.isSignInMode?(e="歡迎回來",t="使用 Google 登入",n="使用 Facebook 登入",a=i||(i=I.default.createElement(k.EmailSignInForm,null)),l="還沒有帳戶？",r="建立帳戶",p=o||(o=I.default.createElement("span",{className:"sign-in-modal__subtitle"},"一旦登入，表示您同意我們的"," ",I.default.createElement("a",{href:"/terms.html",target:"_blank",rel:"noreferrer noopener"},"使用者條款&隱私權政策")))):(e="註冊Lawsnote",t="使用 Google 註冊",n="使用 Facebook 註冊",a=u||(u=I.default.createElement(k.EmailSignUpForm,null)),l="已經有帳戶了嗎？",r="登入",p=s||(s=I.default.createElement("a",{className:"sign-in-modal__subtitle",href:"/terms.html",target:"_blank",rel:"noreferrer noopener"},"使用者條款&隱私權政策"))),this.props.isFeatureStyle&&(e="立即登入免費享有此功能",h=d||(d=I.default.createElement("img",{src:"/plan-basic.svg",className:"sign-in-modal__icon hide-in-mobile",role:"presentation"}))),I.default.createElement(_.default,{show:this.props.isVisible&&!this.props.isSignedIn,onHide:this.onToggleModal,"aria-labelledby":"contained-modal-title",dialogClassName:"flex-box flex-center sign-in-modal__dialog",backdropClassName:"sign-in-modal__backdrop"},I.default.createElement(_.default.Body,{bsClass:"sign-in-modal__body flex-box-vertical"},this.renderCloseIcon(!this.props.fixed),h,I.default.createElement("h1",{className:"sign-in-modal__title"},e),c||(c=I.default.createElement(B,null,"不同登入方式視為獨立帳號，帳號不互通")),I.default.createElement(k.OAuthSignInButton,{provider:"google"},t),I.default.createElement(k.OAuthSignInButton,{provider:"facebook"},n),f||(f=I.default.createElement("div",{className:"flex-box-horizon flex-cx-center sign-in-modal__section"},I.default.createElement("hr",{className:"flex-item horizon-line sign-in-modal__divier"}),I.default.createElement("span",{className:"flex-fixed-item"},"或"),I.default.createElement("hr",{className:"flex-item horizon-line sign-in-modal__divier"}))),a,I.default.createElement("div",{className:"sign-in-modal__sign-in-option"},I.default.createElement("span",{className:"sign-in-modal__subtitle"},l),I.default.createElement("a",{className:"sign-in-modal__sign-up",onClick:this.onToggleMode},r)),I.default.createElement("div",{className:"sign-in-modal__section sign-in-modal__user-term"},p)))}}]),n}(I.Component);(0,y.default)(M,"props",["onToggleModal","isVisible","isSignedIn","oAuthSignIn","signOut","featureStyle"]);var A=(0,E.connect)((function(e){return{isSignedIn:e.auth.user.isSignedIn||!1,oAuthSignIn:e.auth.oAuthSignIn,signOut:e.auth.signOut,isVisible:e.AccountReducer.isVisible,isFeatureStyle:e.AccountReducer.isFeatureStyle,isSignInMode:e.AccountReducer.isSignInMode}}))(M);t.default=A},1670:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ButtonLoader",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"EmailSignInForm",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"EmailSignUpForm",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"OAuthSignInButton",{enumerable:!0,get:function(){return i.default}});var l=a(n(1671)),r=a(n(1672)),i=a(n(1673)),o=a(n(1625))},1671:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(232)),r=a(n(35)),i=a(n(36)),o=a(n(331)),u=a(n(96)),s=a(n(97)),d=a(n(85)),c=a(n(7)),f=a(n(0)),p=(a(n(6)),n(152)),h=a(n(1625)),m=a(n(1628)),g=a(n(549)),v=n(566),b=n(569);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var l=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,l)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var S=function(e){(0,u.default)(n,e);var t=y(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return e=t.call.apply(t,[this].concat(l)),(0,c.default)((0,o.default)(e),"handleInput",(function(t,n,a){var l=g.default.validateInput(n,a,{allowAliasEmail:!0}),r=l.isValid,i=l.reason;e.props.dispatch((0,v.emailSignInFormUpdate)(n,a,r,i))})),(0,c.default)((0,o.default)(e),"handleSubmit",(function(t){t.preventDefault(),t.target.blur();for(var n=e.props.auth.emailSignIn.form,a=!0,l=0,r=["email","password"];l<r.length;l++){var i=r[l],o=n[i]||{},u=o.value||"",s=g.default.validateInput(i,o.value,{allowAliasEmail:!0}),d=s.isValid,c=s.reason;d||(e.props.dispatch((0,v.emailSignInFormUpdate)(i,u,d,c)),a=!1)}a&&e.props.dispatch((0,v.emailSignInStart)({email:n.email.value,password:n.password.value}))})),(0,c.default)((0,o.default)(e),"handleResetPassword",(function(t){t.preventDefault(),t.currentTarget.blur();var n=e.props.auth.emailSignIn.form.email||{},a=g.default.validateInput("email",n.value,{allowAliasEmail:!0}),l=a.isValid,r=a.reason;l?e.props.dispatch((0,b.resetPasswordStart)(n.value)):e.props.dispatch((0,v.emailSignInFormUpdate)("email",n.value||"",l,r))})),e}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props.auth.user.isSignedIn||this.props.auth.emailSignIn.loading,t=this.props.auth.emailSignIn.error||this.props.auth.resetPassword.error,n=null;this.props.auth.resetPassword.isSent?n="重置密碼的郵件已傳送至您的電子信箱":t&&(n=t.message);var a=n?f.default.createElement("div",{className:"login-result"},n):null;return f.default.createElement("form",{className:"redux-auth email-sign-in-form clearfix",onSubmit:this.handleSubmit},a,f.default.createElement(m.default,(0,l.default)({id:"email",type:"email",classPrefix:"email-sign-in",placeholder:"電子郵件",disabled:e,state:this.props.auth.emailSignIn.form.email,onChange:this.handleInput,onBlur:this.handleInput},this.props.inputProps.email)),f.default.createElement(m.default,(0,l.default)({id:"password",type:"password",classPrefix:"email-sign-in",placeholder:"密碼",disabled:e,state:this.props.auth.emailSignIn.form.password,onChange:this.handleInput,onBlur:this.handleInput},this.props.inputProps.password),f.default.createElement("a",{className:"btn-reset-pw",onClick:this.handleResetPassword},"忘記密碼？")),this.props.children,f.default.createElement(h.default,(0,l.default)({loading:this.props.auth.emailSignIn.loading,type:"submit",icon:null,bsStyle:null,className:"email-sign-in-submit btn-login",disabled:e,onClick:this.handleSubmit,block:!0},this.props.inputProps.submit),"登入"))}}]),n}(f.default.Component);(0,c.default)(S,"defaultProps",{inputProps:{email:{},password:{},submit:{}}});var I=(0,p.connect)((function(e){return{auth:e.auth}}))(S);t.default=I},1672:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(232)),r=a(n(35)),i=a(n(36)),o=a(n(331)),u=a(n(96)),s=a(n(97)),d=a(n(85)),c=a(n(7)),f=a(n(0)),p=(a(n(6)),n(152)),h=a(n(1628)),m=a(n(1625)),g=a(n(549)),v=n(567);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var l=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,l)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var y=function(e){(0,u.default)(n,e);var t=b(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return e=t.call.apply(t,[this].concat(l)),(0,c.default)((0,o.default)(e),"handleInput",(function(t,n,a){var l=g.default.validateInput(n,a,{allowAliasEmail:!1}),r=l.isValid,i=l.reason;e.props.dispatch((0,v.emailSignUpFormUpdate)(n,a,r,i))})),(0,c.default)((0,o.default)(e),"handleSubmit",(function(t){t.preventDefault(),t.target.blur();for(var n=e.props.auth.emailSignUp.form,a=!0,l=0,r=["email","password"];l<r.length;l++){var i=r[l],o=n[i]||{},u=o.value||"",s=g.default.validateInput(i,o.value,{allowAliasEmail:!1}),d=s.isValid,c=s.reason;d||(e.props.dispatch((0,v.emailSignUpFormUpdate)(i,u,d,c)),a=!1)}a&&e.props.dispatch((0,v.emailSignUpStart)({email:n.email.value,password:n.password.value}))})),e}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props.auth.user.isSignedIn||this.props.auth.emailSignUp.loading,t=this.props.auth.emailSignUp.error,n=t&&t.message?f.default.createElement("div",{className:"login-result"},t.message):null;return f.default.createElement("form",{className:"redux-auth email-sign-in-form clearfix",onSubmit:this.handleSubmit},n,f.default.createElement(h.default,(0,l.default)({id:"email",type:"text",classPrefix:"email-sign-in",placeholder:"電子郵件",disabled:e,state:this.props.auth.emailSignUp.form.email,onChange:this.handleInput,onBlur:this.handleInput},this.props.inputProps.email)),f.default.createElement(h.default,(0,l.default)({id:"password",type:"password",classPrefix:"email-sign-in",placeholder:"密碼",disabled:e,state:this.props.auth.emailSignUp.form.password,onChange:this.handleInput,onBlur:this.handleInput},this.props.inputProps.password)),this.props.children,f.default.createElement(m.default,(0,l.default)({loading:this.props.auth.emailSignUp.loading,type:"submit",icon:null,bsStyle:null,className:"email-sign-in-submit btn-login",disabled:e,onClick:this.handleSubmit,block:!0},this.props.inputProps.submit),"建立帳戶"))}}]),n}(f.default.Component);(0,c.default)(y,"defaultProps",{inputProps:{email:{},password:{},submit:{}}});var S=(0,p.connect)((function(e){return{auth:e.auth}}))(y);t.default=S},1673:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(35)),r=a(n(36)),i=a(n(331)),o=a(n(96)),u=a(n(97)),s=a(n(85)),d=a(n(7)),c=a(n(0)),f=(a(n(6)),n(152)),p=n(564);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.default)(e);if(t){var l=(0,s.default)(this).constructor;n=Reflect.construct(a,arguments,l)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var m=function(e){(0,o.default)(n,e);var t=h(n);function n(){var e;(0,l.default)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,d.default)((0,i.default)(e),"handleClick",(function(){e.props.dispatch((0,p.oAuthSignInStart)(e.props.provider,e.props.signInParams))})),e}return(0,r.default)(n,[{key:"btnStyle",get:function(){var e="loginBtn-".concat(this.props.provider);return"flex-box-horizon flex-cx-center oauth-sign-in-submit loginBtn loginBtn-block ".concat(e)}},{key:"render",value:function(){var e=this.props.auth.user.isSignedIn;return c.default.createElement("button",{className:this.btnStyle,onClick:this.handleClick,disabled:e},c.default.createElement("i",{className:"flex-fixed-item ".concat(this.props.provider,"-icon loginBtn-icon loginBtn-icon__").concat(this.props.provider)}),c.default.createElement("span",{className:"flex-item"},this.props.children))}}]),n}(c.default.Component);(0,d.default)(m,"defaultProps",{signInParams:{},children:c.default.createElement("span",null,"OAuth Sign In")});var g=(0,f.connect)((function(e){return{auth:e.auth}}))(m);t.default=g}}]);